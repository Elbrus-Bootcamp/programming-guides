# Установка WSL

В данном гайде описано как установить WSL на компьютер с операционной системой Windows

## Подготовка

1. Проверьте, что в BIOS включена виртуализация. Нажмите комбинацию клавиш Ctrl+Alt+Del,
   откройте диспетчер задач, перейдите к вкладке "Производительность". Вы должны увидеть
   **_"Виртуализация: Включено"_**
2. Если виртуализация выключена, найдите в интернете, как на вашей модели компьютера
   включить виртуализацию.

## Установка

1. Откройте командную строку от имени администратора. Например, вбейте в поиске `cmd` и
   выберите пункт "открыть от имени администратора". Включите виртуальную машину с помощью
   команды

```sh
dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart
```

2. Включите подсистему Linux для Windows с помощью команы:

```sh
dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart
```

3. Перезагрузите компьютер

4. После перезагрузки заново откройте командную строку от имени администратора. Включите
   WSL 2-ой версии по умолчанию с помощью команды

```sh
wsl --set-default-version 2
```

5. Зайдите в папку "Мои Документы" и в адресной строке введите "cmd". Скачайте обновление
   компонентов ядра для поддержки WSL2 с помощью команды

```sh
curl.exe -OL https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi
```

6. После скачивания в папке "Мои документы" появится пакет. Установите обновления,
   запустив файл `wsl_update_x64.msi`

7. Скачайте дистрибутив Ubuntu из Microsoft Store. Можно найти Ubuntu самостоятельно или
   выполнить команду в терминале

```sh
start ms-windows-store://pdp/?productid=9PN20MSR04DW
```

8. Нажмите кнопку "Получить"

## Настройка Ubuntu

1. Найдите в поиске Ubuntu и запустите. При первом запуске дистрибутив предложит добавить
   пользователя.

   - **_Не прерывайте установку!_**
   - Используйте только маленькие латинские буквы
   - При вводе пароля символы не отображаются
   - Пароль необходимо ввести дважды
   - Если забыли пароль, доступ к файлам потеряется. Придётся всё удалять

2. Когда в строке появится зелёным имя вашего пользователя обновите доступные пакеты с
   помощью команды:

```sh
sudo apt update
```

3. Если цвет вашего ника не зелёный, а белый, или если вместо имени пользователя написано
   `root`, вы что-то сделали не так, и нужно начинать с начала. Отмените регистрацию
   Ubuntu через Powershell и заново откройте терминал

### SSH

1. Установите ssh для подключения к gitHub

```sh
sudo apt install ssh
```

2. Сгенерируйте ssh ключ, в кавычках введите email с github:

```sh
ssh-keygen -o -t rsa -C "ваш email на github"
```

3. На остальные предложенные вопросы просто нажмите Enter

4. Скопируйте SSH ключ и добавьте в gitHub. Вывести на экран можно с помощью

```sh
cat .ssh/id_rsa.pub
```

Скопировать из терминала можно правой кнопкой мыши.

### Git

1. Проверьте установку git с помощью команды

```sh
sudo apt install git
```

### NVM

1. Установите NVM: перейдите по
   [ссылке](https://github.com/nvm-sh/nvm?tab=readme-ov-file#install--update-script)

```sh
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.1/install.sh | bash
```

2. Задать переменные окружения, выполнив `source ~/.profile`. Если не сработало, или если
   не сделали по ссылке выше, выполните:

```sh
export NVM_DIR="$([ -z "${XDG_CONFIG_HOME-}" ] && printf %s "${HOME}/.nvm" || printf %s "${XDG_CONFIG_HOME}/nvm")"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh" # This loads nvm
```

### NodeJS

1. Установите последнюю LTS-версию NodeJS:

```sh
nvm install node
```

2. Проверьте установку NodeJS с помощью:

```
node -v
npm -v
```

### VSCode

1. Если у вас ещё не установлен VSCode на Windows, установите
2. Зайдите в расширения Extensions, найдите расширение для VSCode `WSL` и установите его
3. Теперь в терминале WSL можно создать папку elbrus и открыть её в VSCode с помощью
   команд:

```sh
mkdir elbrus
code elbrus/
```

4. Откройте терминал в VSCode -- там должно показываться имя вашего пользователя зелёным
   цветом

Ссылки на видео:

[VK](https://vk.com/video300683913_456239190)
[YouTube](https://www.youtube.com/watch?v=Hd7FOpxF9fo)
